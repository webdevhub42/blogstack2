{"expireTime":9007200911206588000,"key":"transformer-remark-markdown-html-ae5ea4a26d43e4011079fdd7594a4d1f-gatsby-remark-prismjs-","val":"<h1>Common Python Data Structures (Guide) – Real Python</h1>\n<hr>\n<h2>Dictionaries, Maps, and Hash Tables</h2>\n<p>In Python, <strong>dictionaries(or dicts for short) are a central data structure. Dicts store an arbitrary number of objects, each identified by a unique dictionary</strong>  <strong>key</strong>.</p>\n<p>Dictionaries are also often called <strong>maps</strong>, <strong>hashmaps</strong>, <strong>lookup tables</strong>, or <strong>associative arrays</strong>. They allow for the efficient lookup, insertion, and deletion of any object associated with a given key.</p>\n<p>Phone books make a decent real-world analog for dictionary objects. They allow you to quickly retrieve the information (phone number) associated with a given key (a person’s name). Instead of having to read a phone book front to back to find someone’s number, you can jump more or less directly to a name and look up the associated information.</p>\n<p>This analogy breaks down somewhat when it comes to <em>how</em> the information is organized to allow for fast lookups. But the fundamental performance characteristics hold. Dictionaries allow you to quickly find the information associated with a given key.</p>\n<p>Dictionaries are one of the most important and frequently used data structures in computer science. So, how does Python handle dictionaries? Let’s take a tour of the dictionary implementations available in core Python and the Python standard library.</p>\n<h3><code class=\"language-text\">dict</code>: Your Go-To Dictionary</h3>\n<p>Because dictionaries are so important, Python features a robust dictionary implementation that’s built directly into the core language: the <a href=\"https://docs.python.org/3/library/stdtypes.html#mapping-types-dict\"><code class=\"language-text\">dict</code></a> data type.</p>\n<p>Python also provides some useful <strong>syntactic sugar</strong> for working with dictionaries in your programs. For example, the curly-brace ({ }) dictionary expression syntax and <a href=\"https://realpython.com/iterate-through-dictionary-python/#using-comprehensions\">dictionary comprehensions</a> allow you to conveniently define new dictionary objects:</p>\n<div class=\"gatsby-highlight\" data-language=\"py\"><pre class=\"language-py\"><code class=\"language-py\"> phonebook <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n<span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>     <span class=\"token string\">\"bob\"</span><span class=\"token punctuation\">:</span> <span class=\"token number\">7387</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>     <span class=\"token string\">\"alice\"</span><span class=\"token punctuation\">:</span> <span class=\"token number\">3719</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>     <span class=\"token string\">\"jack\"</span><span class=\"token punctuation\">:</span> <span class=\"token number\">7052</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span> <span class=\"token punctuation\">}</span>\n\n squares <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>x<span class=\"token punctuation\">:</span> x <span class=\"token operator\">*</span> x <span class=\"token keyword\">for</span> x <span class=\"token keyword\">in</span> <span class=\"token builtin\">range</span><span class=\"token punctuation\">(</span><span class=\"token number\">6</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span>\n\n phonebook<span class=\"token punctuation\">[</span><span class=\"token string\">\"alice\"</span><span class=\"token punctuation\">]</span>\n<span class=\"token number\">3719</span>\n\n squares\n<span class=\"token punctuation\">{</span><span class=\"token number\">0</span><span class=\"token punctuation\">:</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">:</span> <span class=\"token number\">4</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">:</span> <span class=\"token number\">9</span><span class=\"token punctuation\">,</span> <span class=\"token number\">4</span><span class=\"token punctuation\">:</span> <span class=\"token number\">16</span><span class=\"token punctuation\">,</span> <span class=\"token number\">5</span><span class=\"token punctuation\">:</span> <span class=\"token number\">25</span><span class=\"token punctuation\">}</span></code></pre></div>\n<p>There are some restrictions on which objects can be used as valid keys.</p>\n<p>Python’s dictionaries are indexed by keys that can be of any <a href=\"https://docs.python.org/3/glossary.html#term-hashable\">hashable</a> type. A <strong>hashable</strong> object has a hash value that never changes during its lifetime (see <code class=\"language-text\">__hash__</code>), and it can be compared to other objects (see <code class=\"language-text\">__eq__</code>). Hashable objects that compare as equal must have the same hash value.</p>\n<p><a href=\"https://realpython.com/courses/immutability-python/\"><strong>Immutable</strong> types</a> like <a href=\"https://realpython.com/python-strings/\">strings</a> and <a href=\"https://realpython.com/python-data-types/\">numbers</a> are hashable and work well as dictionary keys. You can also use <a href=\"https://realpython.com/python-lists-tuples/#python-tuples\"><code class=\"language-text\">tuple</code> objects</a> as dictionary keys as long as they contain only hashable types themselves.</p>\n<p>For most use cases, Python’s built-in dictionary implementation will do everything you need. Dictionaries are highly optimized and underlie many parts of the language. For example, <a href=\"https://realpython.com/python-scope-legb-rule/#class-and-instance-attributes-scope\">class attributes</a> and variables in a <a href=\"https://en.wikipedia.org/wiki/Call_stack#Structure\">stack frame</a> are both stored internally in dictionaries.</p>\n<p>Python dictionaries are based on a well-tested and finely tuned <a href=\"https://realpython.com/python-hash-table/\">hash table</a> implementation that provides the performance characteristics you’d expect: <em>O</em>(1) time complexity for lookup, insert, update, and delete operations in the average case.</p>\n<p>There’s little reason not to use the standard <code class=\"language-text\">dict</code> implementation included with Python. However, specialized third-party dictionary implementations exist, such as <a href=\"https://en.wikipedia.org/wiki/Skip_list\">skip lists</a> or <a href=\"https://en.wikipedia.org/wiki/B-tree\">B-tree–based</a> dictionaries.</p>\n<p>Besides plain <code class=\"language-text\">dict</code> objects, Python’s standard library also includes a number of specialized dictionary implementations. These specialized dictionaries are all based on the built-in dictionary class (and share its performance characteristics) but also include some additional convenience features.</p>\n<p>Let’s take a look at them.</p>\n<h3><code class=\"language-text\">collections.OrderedDict</code>: Remember the Insertion Order of Keys<a href=\"#collectionsordereddict-remember-the-insertion-order-of-keys\" title=\"Permanent link\"></a></h3>\n<p>Python includes a specialized <code class=\"language-text\">dict</code> subclass that remembers the insertion order of keys added to it: <a href=\"https://realpython.com/python-ordereddict/\"><code class=\"language-text\">collections.OrderedDict</code></a>.</p>\n<p><strong>Note:</strong> <code class=\"language-text\">OrderedDict</code> is not a built-in part of the core language and must be imported from the <code class=\"language-text\">collections</code> module in the standard library.</p>\n<p>While standard <code class=\"language-text\">dict</code> instances preserve the insertion order of keys in CPython 3.6 and above, this was simply a <a href=\"https://mail.python.org/pipermail/python-dev/2016-September/146327.html\">side effect</a> of the CPython implementation and was not defined in the language spec until Python 3.7. So, if key order is important for your algorithm to work, then it’s best to communicate this clearly by explicitly using the <code class=\"language-text\">OrderedDict</code> class:</p>\n<div class=\"gatsby-highlight\" data-language=\"py\"><pre class=\"language-py\"><code class=\"language-py\"> <span class=\"token keyword\">import</span> collections\n d <span class=\"token operator\">=</span> collections<span class=\"token punctuation\">.</span>OrderedDict<span class=\"token punctuation\">(</span>one<span class=\"token operator\">=</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> two<span class=\"token operator\">=</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span> three<span class=\"token operator\">=</span><span class=\"token number\">3</span><span class=\"token punctuation\">)</span>\n\n d\nOrderedDict<span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">(</span><span class=\"token string\">'one'</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token string\">'two'</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token string\">'three'</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n\n d<span class=\"token punctuation\">[</span><span class=\"token string\">\"four\"</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token number\">4</span>\n d\nOrderedDict<span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">(</span><span class=\"token string\">'one'</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token string\">'two'</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n             <span class=\"token punctuation\">(</span><span class=\"token string\">'three'</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token string\">'four'</span><span class=\"token punctuation\">,</span> <span class=\"token number\">4</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n\n d<span class=\"token punctuation\">.</span>keys<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\nodict_keys<span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token string\">'one'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'two'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'three'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'four'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>Until <a href=\"https://realpython.com/python38-new-features/\">Python 3.8</a>, you couldn’t iterate over dictionary items in reverse order using <code class=\"language-text\">reversed()</code>. Only <code class=\"language-text\">OrderedDict</code> instances offered that functionality. Even in Python 3.8, <code class=\"language-text\">dict</code> and <code class=\"language-text\">OrderedDict</code> objects aren’t exactly the same. <code class=\"language-text\">OrderedDict</code> instances have a <a href=\"https://realpython.com/python-data-types/\"><code class=\"language-text\">.move_to_end()</code> method</a> that is unavailable on plain <code class=\"language-text\">dict</code> instance, as well as a more customizable <a href=\"https://docs.python.org/3/library/collections.html#collections.OrderedDict.popitem\"><code class=\"language-text\">.popitem()</code> method</a> than the one plain <code class=\"language-text\">dict</code> instances.</p>\n<h3><code class=\"language-text\">collections.defaultdict</code>: Return Default Values for Missing Keys<a href=\"#collectionsdefaultdict-return-default-values-for-missing-keys\" title=\"Permanent link\"></a></h3>\n<p>The <a href=\"https://docs.python.org/3/library/collections.html#collections.defaultdict\"><code class=\"language-text\">defaultdict</code></a> class is another dictionary subclass that accepts a callable in its constructor whose return value will be used if a requested key cannot be found.</p>\n<p>This can save you some typing and make your intentions clearer as compared to using <code class=\"language-text\">get()</code> or catching a <a href=\"https://realpython.com/python-keyerror/\"><code class=\"language-text\">KeyError</code> exception</a> in regular dictionaries:</p>\n<div class=\"gatsby-highlight\" data-language=\"py\"><pre class=\"language-py\"><code class=\"language-py\"> <span class=\"token keyword\">from</span> collections <span class=\"token keyword\">import</span> defaultdict\n dd <span class=\"token operator\">=</span> defaultdict<span class=\"token punctuation\">(</span><span class=\"token builtin\">list</span><span class=\"token punctuation\">)</span>\n\n <span class=\"token comment\"># Accessing a missing key creates it and</span>\n <span class=\"token comment\"># initializes it using the default factory,</span>\n <span class=\"token comment\"># i.e. list() in this example:</span>\n dd<span class=\"token punctuation\">[</span><span class=\"token string\">\"dogs\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>append<span class=\"token punctuation\">(</span><span class=\"token string\">\"Rufus\"</span><span class=\"token punctuation\">)</span>\n dd<span class=\"token punctuation\">[</span><span class=\"token string\">\"dogs\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>append<span class=\"token punctuation\">(</span><span class=\"token string\">\"Kathrin\"</span><span class=\"token punctuation\">)</span>\n dd<span class=\"token punctuation\">[</span><span class=\"token string\">\"dogs\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>append<span class=\"token punctuation\">(</span><span class=\"token string\">\"Mr Sniffles\"</span><span class=\"token punctuation\">)</span>\n\n dd<span class=\"token punctuation\">[</span><span class=\"token string\">\"dogs\"</span><span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">[</span><span class=\"token string\">'Rufus'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'Kathrin'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'Mr Sniffles'</span><span class=\"token punctuation\">]</span></code></pre></div>\n<p><a href=\"https://srv.realpython.net/click/33172000876/?c=43772654581&#x26;p=58946116052&#x26;r=75987\"><img src=\"https://img.realpython.net/c34848d05efe728b284c7a87c7fcd5c9\" alt=\"alt-text\"></a></p>\n<p><a href=\"https://realpython.com/account/join/\">Remove ads</a></p>\n<h3><code class=\"language-text\">collections.ChainMap</code>: Search Multiple Dictionaries as a Single Mapping<a href=\"#collectionschainmap-search-multiple-dictionaries-as-a-single-mapping\" title=\"Permanent link\"></a></h3>\n<p>The <a href=\"https://docs.python.org/3/library/collections.html#collections.ChainMap\"><code class=\"language-text\">collections.ChainMap</code></a> data structure groups multiple dictionaries into a single mapping. Lookups search the underlying mappings one by one until a key is found. Insertions, updates, and deletions only affect the first mapping added to the chain:</p>\n<div class=\"gatsby-highlight\" data-language=\"py\"><pre class=\"language-py\"><code class=\"language-py\"> <span class=\"token keyword\">from</span> collections <span class=\"token keyword\">import</span> ChainMap\n dict1 <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span><span class=\"token string\">\"one\"</span><span class=\"token punctuation\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"two\"</span><span class=\"token punctuation\">:</span> <span class=\"token number\">2</span><span class=\"token punctuation\">}</span>\n dict2 <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span><span class=\"token string\">\"three\"</span><span class=\"token punctuation\">:</span> <span class=\"token number\">3</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"four\"</span><span class=\"token punctuation\">:</span> <span class=\"token number\">4</span><span class=\"token punctuation\">}</span>\n chain <span class=\"token operator\">=</span> ChainMap<span class=\"token punctuation\">(</span>dict1<span class=\"token punctuation\">,</span> dict2<span class=\"token punctuation\">)</span>\n\n chain\nChainMap<span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span><span class=\"token string\">'one'</span><span class=\"token punctuation\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'two'</span><span class=\"token punctuation\">:</span> <span class=\"token number\">2</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span><span class=\"token string\">'three'</span><span class=\"token punctuation\">:</span> <span class=\"token number\">3</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'four'</span><span class=\"token punctuation\">:</span> <span class=\"token number\">4</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n\n <span class=\"token comment\"># ChainMap searches each collection in the chain</span>\n <span class=\"token comment\"># from left to right until it finds the key (or fails):</span>\n chain<span class=\"token punctuation\">[</span><span class=\"token string\">\"three\"</span><span class=\"token punctuation\">]</span>\n<span class=\"token number\">3</span>\n chain<span class=\"token punctuation\">[</span><span class=\"token string\">\"one\"</span><span class=\"token punctuation\">]</span>\n<span class=\"token number\">1</span>\n chain<span class=\"token punctuation\">[</span><span class=\"token string\">\"missing\"</span><span class=\"token punctuation\">]</span>\nTraceback <span class=\"token punctuation\">(</span>most recent call last<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n  File <span class=\"token string\">\"&lt;stdin>\"</span><span class=\"token punctuation\">,</span> line <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">in</span> <span class=\"token operator\">&lt;</span>module<span class=\"token operator\">></span>\nKeyError<span class=\"token punctuation\">:</span> <span class=\"token string\">'missing'</span></code></pre></div>\n<h3><code class=\"language-text\">types.MappingProxyType</code>: A Wrapper for Making Read-Only Dictionaries<a href=\"#typesmappingproxytype-a-wrapper-for-making-read-only-dictionaries\" title=\"Permanent link\"></a></h3>\n<p><a href=\"https://docs.python.org/3/library/types.html#types.MappingProxyType\"><code class=\"language-text\">MappingProxyType</code></a> is a wrapper around a standard dictionary that provides a read-only view into the wrapped dictionary’s data. This class was added in Python 3.3 and can be used to create immutable proxy versions of dictionaries.</p>\n<p><code class=\"language-text\">MappingProxyType</code> can be helpful if, for example, you’d like to return a dictionary carrying internal state from a class or module while discouraging write access to this object. Using <code class=\"language-text\">MappingProxyType</code> allows you to put these restrictions in place without first having to create a full copy of the dictionary:</p>\n<div class=\"gatsby-highlight\" data-language=\"py\"><pre class=\"language-py\"><code class=\"language-py\"> <span class=\"token keyword\">from</span> types <span class=\"token keyword\">import</span> MappingProxyType\n writable <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span><span class=\"token string\">\"one\"</span><span class=\"token punctuation\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"two\"</span><span class=\"token punctuation\">:</span> <span class=\"token number\">2</span><span class=\"token punctuation\">}</span>\n read_only <span class=\"token operator\">=</span> MappingProxyType<span class=\"token punctuation\">(</span>writable<span class=\"token punctuation\">)</span>\n\n <span class=\"token comment\"># The proxy is read-only:</span>\n read_only<span class=\"token punctuation\">[</span><span class=\"token string\">\"one\"</span><span class=\"token punctuation\">]</span>\n<span class=\"token number\">1</span>\n read_only<span class=\"token punctuation\">[</span><span class=\"token string\">\"one\"</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token number\">23</span>\nTraceback <span class=\"token punctuation\">(</span>most recent call last<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n  File <span class=\"token string\">\"&lt;stdin>\"</span><span class=\"token punctuation\">,</span> line <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">in</span> <span class=\"token operator\">&lt;</span>module<span class=\"token operator\">></span>\nTypeError<span class=\"token punctuation\">:</span> <span class=\"token string\">'mappingproxy'</span> <span class=\"token builtin\">object</span> does <span class=\"token keyword\">not</span> support item assignment\n\n <span class=\"token comment\"># Updates to the original are reflected in the proxy:</span>\n writable<span class=\"token punctuation\">[</span><span class=\"token string\">\"one\"</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token number\">42</span>\n read_only\nmappingproxy<span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span><span class=\"token string\">'one'</span><span class=\"token punctuation\">:</span> <span class=\"token number\">42</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'two'</span><span class=\"token punctuation\">:</span> <span class=\"token number\">2</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre></div>\n<h3>Dictionaries in Python: Summary<a href=\"#dictionaries-in-python-summary\" title=\"Permanent link\"></a></h3>\n<p>All the Python dictionary implementations listed in this tutorial are valid implementations that are built into the Python standard library.</p>\n<p>If you’re looking for a general recommendation on which mapping type to use in your programs, I’d point you to the built-in <code class=\"language-text\">dict</code> data type. It’s a versatile and optimized hash table implementation that’s built directly into the core language.</p>\n<p>I would recommend that you use one of the other data types listed here only if you have special requirements that go beyond what’s provided by <code class=\"language-text\">dict</code>.</p>\n<p>All the implementations are valid options, but your code will be clearer and easier to maintain if it relies on standard Python dictionaries most of the time.</p>\n<h2>Array Data Structures<a href=\"#array-data-structures\" title=\"Permanent link\"></a></h2>\n<p>An <strong>array</strong> is a fundamental data structure available in most programming languages, and it has a wide range of uses across different algorithms.</p>\n<p>In this section, you’ll take a look at array implementations in Python that use only core language features or functionality that’s included in the Python standard library. You’ll see the strengths and weaknesses of each approach so you can decide which implementation is right for your use case.</p>\n<p>But before we jump in, let’s cover some of the basics first. How do arrays work, and what are they used for? Arrays consist of fixed-size data records that allow each element to be efficiently located based on its index:</p>\n<p><a href=\"https://files.realpython.com/media/python-linked-list-array-visualization.5b9f4c4040cb.jpeg\"><img src=\"https://files.realpython.com/media/python-linked-list-array-visualization.5b9f4c4040cb.jpeg\" alt=\"Visual representation of an array\"></a></p>\n<p>Because arrays store information in adjoining blocks of memory, they’re considered <strong>contiguous</strong> data structures (as opposed to <strong>linked</strong> data structures like linked lists, for example).</p>\n<p>A real-world analogy for an array data structure is a parking lot. You can look at the parking lot as a whole and treat it as a single object, but inside the lot there are parking spots indexed by a unique number. Parking spots are containers for vehicles—each parking spot can either be empty or have a car, a motorbike, or some other vehicle parked on it.</p>\n<p>But not all parking lots are the same. Some parking lots may be restricted to only one type of vehicle. For example, a motor home parking lot wouldn’t allow bikes to be parked on it. A restricted parking lot corresponds to a <strong>typed</strong> array data structure that allows only elements that have the same data type stored in them.</p>\n<p>Performance-wise, it’s very fast to look up an element contained in an array given the element’s index. A proper array implementation guarantees a constant <em>O</em>(1) access time for this case.</p>\n<p>Python includes several array-like data structures in its standard library that each have slightly different characteristics. Let’s take a look.</p>\n<h3><code class=\"language-text\">list</code>: Mutable Dynamic Arrays<a href=\"#list-mutable-dynamic-arrays\" title=\"Permanent link\"></a></h3>\n<p><a href=\"https://docs.python.org/3.6/library/stdtypes.html#lists\">Lists</a> are a part of the core Python language. Despite their name, Python’s lists are implemented as <strong>dynamic arrays</strong> behind the scenes.</p>\n<p>This means a list allows elements to be added or removed, and the list will automatically adjust the backing store that holds these elements by allocating or releasing memory.</p>\n<p>Python lists can hold arbitrary elements—everything is an object in Python, including functions. Therefore, you can mix and match different kinds of data types and store them all in a single list.</p>\n<p>This can be a powerful feature, but the downside is that supporting multiple data types at the same time means that data is generally less tightly packed. As a result, the whole structure takes up more space:</p>\n<div class=\"gatsby-highlight\" data-language=\"py\"><pre class=\"language-py\"><code class=\"language-py\"> arr <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"one\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"two\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"three\"</span><span class=\"token punctuation\">]</span>\n arr<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span>\n<span class=\"token string\">'one'</span>\n\n <span class=\"token comment\"># Lists have a nice repr:</span>\n arr\n<span class=\"token punctuation\">[</span><span class=\"token string\">'one'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'two'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'three'</span><span class=\"token punctuation\">]</span>\n\n <span class=\"token comment\"># Lists are mutable:</span>\n arr<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token string\">\"hello\"</span>\n arr\n<span class=\"token punctuation\">[</span><span class=\"token string\">'one'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'hello'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'three'</span><span class=\"token punctuation\">]</span>\n\n <span class=\"token keyword\">del</span> arr<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span>\n arr\n<span class=\"token punctuation\">[</span><span class=\"token string\">'one'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'three'</span><span class=\"token punctuation\">]</span>\n\n <span class=\"token comment\"># Lists can hold arbitrary data types:</span>\n arr<span class=\"token punctuation\">.</span>append<span class=\"token punctuation\">(</span><span class=\"token number\">23</span><span class=\"token punctuation\">)</span>\n arr\n<span class=\"token punctuation\">[</span><span class=\"token string\">'one'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'three'</span><span class=\"token punctuation\">,</span> <span class=\"token number\">23</span><span class=\"token punctuation\">]</span></code></pre></div>\n<h3><code class=\"language-text\">tuple</code>: Immutable Containers<a href=\"#tuple-immutable-containers\" title=\"Permanent link\"></a></h3>\n<p>Just like lists, <a href=\"https://docs.python.org/3/library/stdtypes.html#tuple\">tuples</a> are part of the Python core language. Unlike lists, however, Python’s <code class=\"language-text\">tuple</code> objects are immutable. This means elements can’t be added or removed dynamically—all elements in a tuple must be defined at creation time.</p>\n<p>Tuples are another data structure that can hold elements of arbitrary data types. Having this flexibility is powerful, but again, it also means that data is less tightly packed than it would be in a typed array:</p>\n<div class=\"gatsby-highlight\" data-language=\"py\"><pre class=\"language-py\"><code class=\"language-py\"> arr <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token string\">\"one\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"two\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"three\"</span><span class=\"token punctuation\">)</span>\n arr<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span>\n<span class=\"token string\">'one'</span>\n\n <span class=\"token comment\"># Tuples have a nice repr:</span>\n arr\n<span class=\"token punctuation\">(</span><span class=\"token string\">'one'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'two'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'three'</span><span class=\"token punctuation\">)</span>\n\n <span class=\"token comment\"># Tuples are immutable:</span>\n arr<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token string\">\"hello\"</span>\nTraceback <span class=\"token punctuation\">(</span>most recent call last<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n  File <span class=\"token string\">\"&lt;stdin>\"</span><span class=\"token punctuation\">,</span> line <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">in</span> <span class=\"token operator\">&lt;</span>module<span class=\"token operator\">></span>\nTypeError<span class=\"token punctuation\">:</span> <span class=\"token string\">'tuple'</span> <span class=\"token builtin\">object</span> does <span class=\"token keyword\">not</span> support item assignment\n\n <span class=\"token keyword\">del</span> arr<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span>\nTraceback <span class=\"token punctuation\">(</span>most recent call last<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n  File <span class=\"token string\">\"&lt;stdin>\"</span><span class=\"token punctuation\">,</span> line <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">in</span> <span class=\"token operator\">&lt;</span>module<span class=\"token operator\">></span>\nTypeError<span class=\"token punctuation\">:</span> <span class=\"token string\">'tuple'</span> <span class=\"token builtin\">object</span> doesn't support item deletion\n\n <span class=\"token comment\"># Tuples can hold arbitrary data types:</span>\n <span class=\"token comment\"># (Adding elements creates a copy of the tuple)</span>\n arr <span class=\"token operator\">+</span> <span class=\"token punctuation\">(</span><span class=\"token number\">23</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">(</span><span class=\"token string\">'one'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'two'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'three'</span><span class=\"token punctuation\">,</span> <span class=\"token number\">23</span><span class=\"token punctuation\">)</span></code></pre></div>\n<h3><code class=\"language-text\">array.array</code>: Basic Typed Arrays<a href=\"#arrayarray-basic-typed-arrays\" title=\"Permanent link\"></a></h3>\n<p>Python’s <code class=\"language-text\">array</code> module provides space-efficient storage of basic C-style data types like bytes, 32-bit integers, floating-point numbers, and so on.</p>\n<p>Arrays created with the <a href=\"https://docs.python.org/3/library/array.html\"><code class=\"language-text\">array.array</code></a> class are mutable and behave similarly to lists except for one important difference: they’re <strong>typed arrays</strong> constrained to a single data type.</p>\n<p>Because of this constraint, <code class=\"language-text\">array.array</code> objects with many elements are more space efficient than lists and tuples. The elements stored in them are tightly packed, and this can be useful if you need to store many elements of the same type.</p>\n<p>Also, arrays support many of the same methods as regular lists, and you might be able to use them as a drop-in replacement without requiring other changes to your application code.</p>\n<div class=\"gatsby-highlight\" data-language=\"py\"><pre class=\"language-py\"><code class=\"language-py\"> <span class=\"token keyword\">import</span> array\n arr <span class=\"token operator\">=</span> array<span class=\"token punctuation\">.</span>array<span class=\"token punctuation\">(</span><span class=\"token string\">\"f\"</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token number\">1.0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1.5</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2.0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2.5</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n arr<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span>\n<span class=\"token number\">1.5</span>\n\n <span class=\"token comment\"># Arrays have a nice repr:</span>\n arr\narray<span class=\"token punctuation\">(</span><span class=\"token string\">'f'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span><span class=\"token number\">1.0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1.5</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2.0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2.5</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n\n <span class=\"token comment\"># Arrays are mutable:</span>\n arr<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token number\">23.0</span>\n arr\narray<span class=\"token punctuation\">(</span><span class=\"token string\">'f'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span><span class=\"token number\">1.0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">23.0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2.0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2.5</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n\n <span class=\"token keyword\">del</span> arr<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span>\n arr\narray<span class=\"token punctuation\">(</span><span class=\"token string\">'f'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span><span class=\"token number\">1.0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2.0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2.5</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n\n arr<span class=\"token punctuation\">.</span>append<span class=\"token punctuation\">(</span><span class=\"token number\">42.0</span><span class=\"token punctuation\">)</span>\n arr\narray<span class=\"token punctuation\">(</span><span class=\"token string\">'f'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span><span class=\"token number\">1.0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2.0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2.5</span><span class=\"token punctuation\">,</span> <span class=\"token number\">42.0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n\n <span class=\"token comment\"># Arrays are \"typed\":</span>\n arr<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token string\">\"hello\"</span>\nTraceback <span class=\"token punctuation\">(</span>most recent call last<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n  File <span class=\"token string\">\"&lt;stdin>\"</span><span class=\"token punctuation\">,</span> line <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">in</span> <span class=\"token operator\">&lt;</span>module<span class=\"token operator\">></span>\nTypeError<span class=\"token punctuation\">:</span> must be real number<span class=\"token punctuation\">,</span> <span class=\"token keyword\">not</span> <span class=\"token builtin\">str</span></code></pre></div>\n<h3><code class=\"language-text\">str</code>: Immutable Arrays of Unicode Characters<a href=\"#str-immutable-arrays-of-unicode-characters\" title=\"Permanent link\"></a></h3>\n<p>Python 3.x uses <a href=\"https://docs.python.org/3/library/stdtypes.html#text-sequence-type-str\"><code class=\"language-text\">str</code></a> objects to store textual data as immutable sequences of <a href=\"https://realpython.com/python-encodings-guide/\">Unicode characters</a>. Practically speaking, that means a <code class=\"language-text\">str</code> is an immutable array of characters. Oddly enough, it’s also a <a href=\"https://realpython.com/python-thinking-recursively/\">recursive</a> data structure—each character in a string is itself a <code class=\"language-text\">str</code> object of length 1.</p>\n<p>String objects are space efficient because they’re tightly packed and they specialize in a single data type. If you’re storing Unicode text, then you should use a string.</p>\n<p>Because strings are immutable in Python, modifying a string requires creating a modified copy. The closest equivalent to a mutable string is storing individual characters inside a list:</p>\n<div class=\"gatsby-highlight\" data-language=\"py\"><pre class=\"language-py\"><code class=\"language-py\"> arr <span class=\"token operator\">=</span> <span class=\"token string\">\"abcd\"</span>\n arr<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span>\n<span class=\"token string\">'b'</span>\n\n arr\n<span class=\"token string\">'abcd'</span>\n\n <span class=\"token comment\"># Strings are immutable:</span>\n arr<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token string\">\"e\"</span>\nTraceback <span class=\"token punctuation\">(</span>most recent call last<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n  File <span class=\"token string\">\"&lt;stdin>\"</span><span class=\"token punctuation\">,</span> line <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">in</span> <span class=\"token operator\">&lt;</span>module<span class=\"token operator\">></span>\nTypeError<span class=\"token punctuation\">:</span> <span class=\"token string\">'str'</span> <span class=\"token builtin\">object</span> does <span class=\"token keyword\">not</span> support item assignment\n\n <span class=\"token keyword\">del</span> arr<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span>\nTraceback <span class=\"token punctuation\">(</span>most recent call last<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n  File <span class=\"token string\">\"&lt;stdin>\"</span><span class=\"token punctuation\">,</span> line <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">in</span> <span class=\"token operator\">&lt;</span>module<span class=\"token operator\">></span>\nTypeError<span class=\"token punctuation\">:</span> <span class=\"token string\">'str'</span> <span class=\"token builtin\">object</span> doesn't support item deletion\n\n <span class=\"token comment\"># Strings can be unpacked into a list to</span>\n <span class=\"token comment\"># get a mutable representation:</span>\n <span class=\"token builtin\">list</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"abcd\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">[</span><span class=\"token string\">'a'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'b'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'c'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'d'</span><span class=\"token punctuation\">]</span>\n <span class=\"token string\">\"\"</span><span class=\"token punctuation\">.</span>join<span class=\"token punctuation\">(</span><span class=\"token builtin\">list</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"abcd\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n<span class=\"token string\">'abcd'</span>\n\n <span class=\"token comment\"># Strings are recursive data structures:</span>\n <span class=\"token builtin\">type</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"abc\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token string\">\"&lt;class 'str'>\"</span>\n <span class=\"token builtin\">type</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"abc\"</span><span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n<span class=\"token string\">\"&lt;class 'str'>\"</span></code></pre></div>\n<h3><code class=\"language-text\">bytes</code>: Immutable Arrays of Single Bytes<a href=\"#bytes-immutable-arrays-of-single-bytes\" title=\"Permanent link\"></a></h3>\n<p><a href=\"https://docs.python.org/3/library/stdtypes.html#bytes-objects\"><code class=\"language-text\">bytes</code></a> objects are immutable sequences of single bytes, or integers in the range 0 ≤ <em>x</em> ≤ 255. Conceptually, <code class=\"language-text\">bytes</code> objects are similar to <code class=\"language-text\">str</code> objects, and you can also think of them as immutable arrays of bytes.</p>\n<p>Like strings, <code class=\"language-text\">bytes</code> have their own literal syntax for creating objects and are space efficient. <code class=\"language-text\">bytes</code> objects are immutable, but unlike strings, there’s a dedicated mutable byte array data type called <code class=\"language-text\">bytearray</code> that they can be unpacked into:</p>\n<div class=\"gatsby-highlight\" data-language=\"py\"><pre class=\"language-py\"><code class=\"language-py\"> arr <span class=\"token operator\">=</span> <span class=\"token builtin\">bytes</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n arr<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span>\n<span class=\"token number\">1</span>\n\n <span class=\"token comment\"># Bytes literals have their own syntax:</span>\n arr\n<span class=\"token string\">b'\\x00\\x01\\x02\\x03'</span>\n arr <span class=\"token operator\">=</span> <span class=\"token string\">b\"\\x00\\x01\\x02\\x03\"</span>\n\n <span class=\"token comment\"># Only valid `bytes` are allowed:</span>\n <span class=\"token builtin\">bytes</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">300</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\nTraceback <span class=\"token punctuation\">(</span>most recent call last<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n  File <span class=\"token string\">\"&lt;stdin>\"</span><span class=\"token punctuation\">,</span> line <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">in</span> <span class=\"token operator\">&lt;</span>module<span class=\"token operator\">></span>\nValueError<span class=\"token punctuation\">:</span> <span class=\"token builtin\">bytes</span> must be <span class=\"token keyword\">in</span> <span class=\"token builtin\">range</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">256</span><span class=\"token punctuation\">)</span>\n\n <span class=\"token comment\"># Bytes are immutable:</span>\n arr<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token number\">23</span>\nTraceback <span class=\"token punctuation\">(</span>most recent call last<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n  File <span class=\"token string\">\"&lt;stdin>\"</span><span class=\"token punctuation\">,</span> line <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">in</span> <span class=\"token operator\">&lt;</span>module<span class=\"token operator\">></span>\nTypeError<span class=\"token punctuation\">:</span> <span class=\"token string\">'bytes'</span> <span class=\"token builtin\">object</span> does <span class=\"token keyword\">not</span> support item assignment\n\n <span class=\"token keyword\">del</span> arr<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span>\nTraceback <span class=\"token punctuation\">(</span>most recent call last<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n  File <span class=\"token string\">\"&lt;stdin>\"</span><span class=\"token punctuation\">,</span> line <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">in</span> <span class=\"token operator\">&lt;</span>module<span class=\"token operator\">></span>\nTypeError<span class=\"token punctuation\">:</span> <span class=\"token string\">'bytes'</span> <span class=\"token builtin\">object</span> doesn't support item deletion</code></pre></div>\n<h3><code class=\"language-text\">bytearray</code>: Mutable Arrays of Single Bytes<a href=\"#bytearray-mutable-arrays-of-single-bytes\" title=\"Permanent link\"></a></h3>\n<p>The <a href=\"https://docs.python.org/3.1/library/functions.html#bytearray\"><code class=\"language-text\">bytearray</code></a> type is a mutable sequence of integers in the range 0 ≤ <em>x</em> ≤ 255. The <code class=\"language-text\">bytearray</code> object is closely related to the <code class=\"language-text\">bytes</code> object, with the main difference being that a <code class=\"language-text\">bytearray</code> can be modified freely—you can overwrite elements, remove existing elements, or add new ones. The <code class=\"language-text\">bytearray</code> object will grow and shrink accordingly.</p>\n<p>A <code class=\"language-text\">bytearray</code> can be converted back into immutable <code class=\"language-text\">bytes</code> objects, but this involves copying the stored data in full—a slow operation taking <em>O</em>(<em>n</em>) time:</p>\n<div class=\"gatsby-highlight\" data-language=\"py\"><pre class=\"language-py\"><code class=\"language-py\"> arr <span class=\"token operator\">=</span> <span class=\"token builtin\">bytearray</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n arr<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span>\n<span class=\"token number\">1</span>\n\n <span class=\"token comment\"># The bytearray repr:</span>\n arr\n<span class=\"token builtin\">bytearray</span><span class=\"token punctuation\">(</span><span class=\"token string\">b'\\x00\\x01\\x02\\x03'</span><span class=\"token punctuation\">)</span>\n\n <span class=\"token comment\"># Bytearrays are mutable:</span>\n arr<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token number\">23</span>\n arr\n<span class=\"token builtin\">bytearray</span><span class=\"token punctuation\">(</span><span class=\"token string\">b'\\x00\\x17\\x02\\x03'</span><span class=\"token punctuation\">)</span>\n\n arr<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span>\n<span class=\"token number\">23</span>\n\n <span class=\"token comment\"># Bytearrays can grow and shrink in size:</span>\n <span class=\"token keyword\">del</span> arr<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span>\n arr\n<span class=\"token builtin\">bytearray</span><span class=\"token punctuation\">(</span><span class=\"token string\">b'\\x00\\x02\\x03'</span><span class=\"token punctuation\">)</span>\n\n arr<span class=\"token punctuation\">.</span>append<span class=\"token punctuation\">(</span><span class=\"token number\">42</span><span class=\"token punctuation\">)</span>\n arr\n<span class=\"token builtin\">bytearray</span><span class=\"token punctuation\">(</span><span class=\"token string\">b'\\x00\\x02\\x03*'</span><span class=\"token punctuation\">)</span>\n\n <span class=\"token comment\"># Bytearrays can only hold `bytes`</span>\n <span class=\"token comment\"># (integers in the range 0 &lt;= x &lt;= 255)</span>\n arr<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token string\">\"hello\"</span>\nTraceback <span class=\"token punctuation\">(</span>most recent call last<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n  File <span class=\"token string\">\"&lt;stdin>\"</span><span class=\"token punctuation\">,</span> line <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">in</span> <span class=\"token operator\">&lt;</span>module<span class=\"token operator\">></span>\nTypeError<span class=\"token punctuation\">:</span> <span class=\"token string\">'str'</span> <span class=\"token builtin\">object</span> cannot be interpreted <span class=\"token keyword\">as</span> an integer\n\n arr<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token number\">300</span>\nTraceback <span class=\"token punctuation\">(</span>most recent call last<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n  File <span class=\"token string\">\"&lt;stdin>\"</span><span class=\"token punctuation\">,</span> line <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">in</span> <span class=\"token operator\">&lt;</span>module<span class=\"token operator\">></span>\nValueError<span class=\"token punctuation\">:</span> byte must be <span class=\"token keyword\">in</span> <span class=\"token builtin\">range</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">256</span><span class=\"token punctuation\">)</span>\n\n <span class=\"token comment\"># Bytearrays can be converted back into bytes objects:</span>\n <span class=\"token comment\"># (This will copy the data)</span>\n <span class=\"token builtin\">bytes</span><span class=\"token punctuation\">(</span>arr<span class=\"token punctuation\">)</span>\n<span class=\"token string\">b'\\x00\\x02\\x03*'</span></code></pre></div>\n<h3>Arrays in Python: Summary<a href=\"#arrays-in-python-summary\" title=\"Permanent link\"></a></h3>\n<p>There are a number of built-in data structures you can choose from when it comes to implementing arrays in Python. In this section, you’ve focused on core language features and data structures included in the standard library.</p>\n<p>If you’re willing to go beyond the Python standard library, then third-party packages like <a href=\"https://realpython.com/numpy-array-programming/\">NumPy</a> and <a href=\"https://realpython.com/pandas-dataframe/\">pandas</a> offer a wide range of fast array implementations for scientific computing and data science.</p>\n<p>If you want to restrict yourself to the array data structures included with Python, then here are a few guidelines:</p>\n<ul>\n<li>If you need to store arbitrary objects, potentially with mixed data types, then use a <code class=\"language-text\">list</code> or a <code class=\"language-text\">tuple</code>, depending on whether or not you want an immutable data structure.</li>\n<li>If you have numeric (integer or floating-point) data and tight packing and performance is important, then try out <code class=\"language-text\">array.array</code>.</li>\n<li>If you have textual data represented as Unicode characters, then use Python’s built-in <code class=\"language-text\">str</code>. If you need a mutable string-like data structure, then use a <code class=\"language-text\">list</code> of characters.</li>\n<li>If you want to store a contiguous block of bytes, then use the immutable <code class=\"language-text\">bytes</code> type or a <code class=\"language-text\">bytearray</code> if you need a mutable data structure.</li>\n</ul>\n<p>In most cases, I like to start out with a simple <code class=\"language-text\">list</code>. I’ll only specialize later on if performance or storage space becomes an issue. Most of the time, using a general-purpose array data structure like <code class=\"language-text\">list</code> gives you the fastest development speed and the most programming convenience.</p>\n<p>I’ve found that this is usually much more important in the beginning than trying to squeeze out every last drop of performance right from the start.</p>\n<h2>Records, Structs, and Data Transfer Objects<a href=\"#records-structs-and-data-transfer-objects\" title=\"Permanent link\"></a></h2>\n<p>Compared to arrays, <strong>record</strong> data structures provide a fixed number of fields. Each field can have a name and may also have a different type.</p>\n<p>In this section, you’ll see how to implement records, structs, and plain old data objects in Python using only built-in data types and classes from the standard library.</p>\n<p><strong>Note:</strong> I’m using the definition of a record loosely here. For example, I’m also going to discuss types like Python’s built-in <code class=\"language-text\">tuple</code> that may or may not be considered records in a strict sense because they don’t provide named fields.</p>\n<p>Python offers several data types that you can use to implement records, structs, and data transfer objects. In this section, you’ll get a quick look at each implementation and its unique characteristics. At the end, you’ll find a summary and a decision-making guide that will help you make your own picks.</p>\n<p><strong>Note:</strong> This tutorial is adapted from the chapter “Common Data Structures in Python” in <a href=\"https://realpython.com/products/python-tricks-book/\"><em>Python Tricks: The Book</em></a>. If you enjoy what you’re reading, then be sure to check out <a href=\"https://realpython.com/products/python-tricks-book/\">the rest of the book</a>.</p>\n<p>Alright, let’s get started!</p>\n<h3><code class=\"language-text\">dict</code>: Simple Data Objects<a href=\"#dict-simple-data-objects\" title=\"Permanent link\"></a></h3>\n<p>As mentioned <a href=\"#dictionaries-maps-and-hash-tables\">previously</a>, Python dictionaries store an arbitrary number of objects, each identified by a unique key. Dictionaries are also often called <strong>maps</strong> or <strong>associative arrays</strong> and allow for efficient lookup, insertion, and deletion of any object associated with a given key.</p>\n<p>Using dictionaries as a record data type or data object in Python is possible. Dictionaries are easy to create in Python as they have their own syntactic sugar built into the language in the form of <strong>dictionary literals</strong>. The dictionary syntax is concise and quite convenient to type.</p>\n<p>Data objects created using dictionaries are mutable, and there’s little protection against misspelled field names as fields can be added and removed freely at any time. Both of these properties can introduce surprising bugs, and there’s always a trade-off to be made between convenience and error resilience:</p>\n<div class=\"gatsby-highlight\" data-language=\"py\"><pre class=\"language-py\"><code class=\"language-py\"> car1 <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n<span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>     <span class=\"token string\">\"color\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"red\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>     <span class=\"token string\">\"mileage\"</span><span class=\"token punctuation\">:</span> <span class=\"token number\">3812.4</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>     <span class=\"token string\">\"automatic\"</span><span class=\"token punctuation\">:</span> <span class=\"token boolean\">True</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span> <span class=\"token punctuation\">}</span>\n car2 <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n<span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>     <span class=\"token string\">\"color\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"blue\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>     <span class=\"token string\">\"mileage\"</span><span class=\"token punctuation\">:</span> <span class=\"token number\">40231</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>     <span class=\"token string\">\"automatic\"</span><span class=\"token punctuation\">:</span> <span class=\"token boolean\">False</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span> <span class=\"token punctuation\">}</span>\n\n <span class=\"token comment\"># Dicts have a nice repr:</span>\n car2</code></pre></div>"}